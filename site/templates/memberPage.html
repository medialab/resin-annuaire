{% extends "main.html" %} {% block body %}
<div id="member">



    <header class="member__header">



      <figure>

        <!-- {% if member.imageFilePath %}
        <img class="member-photo" src="{{ member.imageFilePath }}" />
        {% else %}
        <div class="avatar-default">
          {% include "resin-logo-icon.svg" %}
        </div>
        {% endif %} -->
          {% if member.avatar %}
        <img class="member-photo" src="{{ member.avatar | replace('http://', 'https://') }}" />
        {% else %}
        <div class="avatar-default">
          {% include "resin-logo-icon.svg" %}
        </div>
        {% endif %}
      </figure>


      <div class="skills-block">
        {% for skill in member.firstSkills %}
        <div class="skill-group" data-field="{{ skill | replace(' ', '-') | lower }}">
          <div class="skill-color"></div>
          <div class="skill-text">{{skill}}</div>
        </div>
        {% endfor %}
      </div> 


      <div class="title-group">
        <h2>
          {{ member.firstName }} {{ member.lastName }} 
          {% if member.pronouns %}<small> ({{member.pronouns}}) </small>{% endif %}
        </h2>
        {% if member.organization %}
        <p class="organization">{{ member.organization }}{% if member.city %}, {{ member.city }}{% endif %}</p>
        {% endif %}
      </div>


    

      
      <section class="member__hero">

        {% if member.shortBio %}
        <p class="short-bio">{{ member.shortBio }}</p>
        {% endif %}
  
  
        <div class="skills-list">
          <ul>
            {% for skill in member.lastSkills.split(', ') %}
            <li>{{ skill }}</li>
            {% endfor %}
          </ul>
        </div>
      </section>
  



    </header>



    <div class="col-left">
    
      <section class="member__details">


        {% if member.organization %}
        <dl class="organization">
          <dt>Institution</dt>
          <dd>{{ member.organization }}{% if member.city %}, {{ member.city }}{% endif %}</dd>
        </dl>
        {% endif %} 


        {% if member.title %}
        <dl class="title">
          <dt>Fonction / Titre</dt>
          <dd>{{ member.title }}</dd>
        </dl>
        {% endif %} 

        {% if member.languages|length %}
        <dl class="languages">
          <dt>Langues</dt>
          <dd>{{ member.languages | join(", ") }}</dd>
        </dl>
        {% endif %} 


        {% if member.email %}
        <dl class="contact">
          <dt>Contacter</dt>
          <dd>{{ member.email | replace("@", "¤")}}</dd>
        </dl>
        {% endif %} 

      </section>

      <nav class="member__toc">
        <ul>
          {% set firstItem = true %}
          {% if member.longBio %}
          <li{% if firstItem %} class="is-selected"{% endif %}><a href="#long-bio">Biographie</a></li>
          {% set firstItem = false %}
          {% endif %}
          {% if member.education %}
          <li{% if firstItem %} class="is-selected"{% endif %}><a href="#education">Formation</a></li>
          {% set firstItem = false %}
          {% endif %}
          {% if member.publications %}
          <li{% if firstItem %} class="is-selected"{% endif %}><a href="#education">Publications</a></li>
          {% set firstItem = false %}
          {% endif %}
          {% if member.activities %}
          <li{% if firstItem %} class="is-selected"{% endif %}><a href="#activities">Autres activités</a></li>
          {% set firstItem = false %}
          {% endif %}
          {% if member.responsabilities %}
          <li{% if firstItem %} class="is-selected"{% endif %}><a href="#responsabilities">Responsabilités</a></li>
          {% set firstItem = false %}
          {% endif %}
          {% if member.distinctions %}
          <li{% if firstItem %} class="is-selected"{% endif %}><a href="#distinctions">Distinctions</a></li>
          {% set firstItem = false %}
          {% endif %}

        </ul>
      </nav>

    </div>


    <section class="member__content">
 
      {% if member.longBio %}
      <div class="content-section" id="long-bio">
        <h3>Biographie</h3>
        <div class="text-md">{% markdown %} {{ member.longBio }} {% endmarkdown %}</div>
      </div>
      {% endif %}

      {% if member.education %}
      <div class="content-section" id="education">
        <h3>Formation</h3>
        <div class="text-md">{% markdown %} {{ member.education }} {% endmarkdown %}</div>
      </div>
      {% endif %} 
    
      {% if member.publications %}
      <div class="content-section" id="publications">
        <h3>Publications</h3>
        <div class="text-md">{% markdown %} {{ member.publications }} {%endmarkdown %}</div>
      </div>
      {% endif %} 
      
      {% if member.activities %}
      <div class="content-section" id="activities">
        <h3>Autres activités</h3>
        <div class="text-md">{% markdown %} {{ member.activities }} {%endmarkdown %}</div>
      </div>
      {% endif %} 
    
      {% if member.responsabilities %}
      <div class="content-section" id="responsabilities">
        <h3>Responsabilités</h3>
        <div class="text-md">{% markdown %} {{ member.activities }} {%endmarkdown %}</div>
      </div>
      {% endif %} 
    
      {% if member.distinctions %}
      <div class="content-section" id="distinctions">
        <h3>Distinctions</h3>
        <div class="text-md">{% markdown %} {{ member.activities }} {%endmarkdown %}</div>
      </div>
      {% endif %}

      <button id="edit-button">
        Je suis cette personne, je souhaite modifier mon profil
      </button>
  

    </section>


    <div class="modal-background"></div>
    <div class="modal-content">
      <span class="close">&times;</span>
      <resin-formulaire-edit apiServer="{{ apiUrl }}" />
    </div>

</div>

{% endblock %} 

{% block scripts %}
<script type="text/javascript" src="js/header.js"></script>
<script type="text/javascript" src="js/edit.js"></script>
<script type="text/javascript" src="js/memberPage.js"></script>
{% endblock %}
